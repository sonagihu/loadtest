다음 요구사항에 맞는 옵저버 패턴을 구현해주세요:

1. 주식 거래 시스템을 위한 옵저버 패턴 구현이 필요합니다.
2. 다음 클래스들이 필요합니다:
   - StockMarket (Subject)
   - StockObserver (Observer)
   - StockPrice (데이터 모델)
3. StockMarket 클래스는 다음 기능이 필요합니다:
   - 옵저버 등록/해제
   - 주식 가격 업데이트
   - 모든 옵저버에게 알림
4. StockObserver는 다음 기능이 필요합니다:
   - 가격 업데이트 수신
   - 특정 가격 임계값 설정
   - 알림 처리
5. 스레드 안전성을 고려해야 합니다.
6. 예외 처리가 필요합니다. 